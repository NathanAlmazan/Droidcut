"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[853],{41853:function(e,r,n){n.r(r),n.d(r,{default:function(){return q}});var i=n(70885),t=n(4942),s=n(72791),a=n(14963),o=n(43504),l=n(16871),d=n(47630),c=n(23060),u=n(26445),m=n(53767),h=n(20890),p=n(23468),x=n(25212),Z=n(27325),f=n(1413),j=n(81724),b=n(92506),g=n(67234),v=n(63278),w=n(74994),y=n(19218),_=n(63466),k=n(13400),C=n(85523),U=n(94454),E=n(39709),S=n(80184);function P(e){var r=e.loginUser,n=e.loginError,t=(0,s.useState)(!1),a=(0,i.Z)(t,2),l=a[0],d=a[1],u=j.Ry().shape({email:j.Z_().email("Email must be a valid email address").required("Email is required"),password:j.Z_().required("Password is required")}),p=(0,b.TA)({initialValues:{email:"",password:"",remember:!0},validationSchema:u,onSubmit:function(e){r(e.email,e.password)}}),x=p.errors,Z=p.touched,P=p.values,A=p.isSubmitting,D=p.handleSubmit,W=p.getFieldProps;return(0,S.jsx)(b.Hy,{value:p,children:(0,S.jsxs)(b.l0,{autoComplete:"off",noValidate:!0,onSubmit:D,children:[(0,S.jsxs)(m.Z,{spacing:3,children:[(0,S.jsx)(y.Z,(0,f.Z)((0,f.Z)({fullWidth:!0,autoComplete:"username",type:"email",label:"Email address"},W("email")),{},{error:Boolean(Z.email&&x.email),helperText:Z.email&&x.email})),(0,S.jsx)(y.Z,(0,f.Z)((0,f.Z)({fullWidth:!0,autoComplete:"current-password",type:l?"text":"password",label:"Password"},W("password")),{},{InputProps:{endAdornment:(0,S.jsx)(_.Z,{position:"end",children:(0,S.jsx)(k.Z,{onClick:function(){d((function(e){return!e}))},edge:"end",children:(0,S.jsx)(g.JO,{icon:l?v.Z:w.Z})})})},error:Boolean(Z.password&&x.password),helperText:Z.password&&x.password})),n&&(0,S.jsx)(h.Z,{variant:"body1",color:"error",children:"Email or password is incorrect."})]}),(0,S.jsxs)(m.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{my:2},children:[(0,S.jsx)(C.Z,{control:(0,S.jsx)(U.Z,(0,f.Z)((0,f.Z)({},W("remember")),{},{checked:P.remember})),label:"Remember me"}),(0,S.jsx)(c.Z,{component:o.rU,variant:"subtitle2",to:"/resetPassword",children:"Forgot password?"})]}),(0,S.jsx)(E.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:A,children:"Login"})]})})}var A=n(80408),D=(0,d.ZP)(x.Z)((function(e){var r=e.theme;return(0,t.Z)({},r.breakpoints.up("md"),{display:"flex"})})),W=(0,d.ZP)("div")((function(e){return{maxWidth:480,margin:"auto",display:"flex",minHeight:"100vh",flexDirection:"column",justifyContent:"center",padding:e.theme.spacing(12,0)}}));function q(){var e=(0,l.s0)(),r=(0,a.$)(),n=r.loginUser,t=r.currentUser,d=r.database,x=r.setCurrentUsername,f=s.useState(!1),j=(0,i.Z)(f,2),b=j[0],g=j[1];function v(r,i){n(r,i).then((function(r){var n;n=r.user.uid,(0,A.jM)((0,A.iH)(d,"VerifiedAdmin/Admins/"+n),(function(e){if(e.exists()){var r=e.val();x(r.username)}})),e("/dashboard/app")})).catch((function(e){g(!0)}))}return s.useEffect((function(){null!==t&&e("/dashboard/app")}),[t,e]),(0,S.jsxs)(D,{title:"Login | Droidcut",children:[(0,S.jsxs)(p.Z,{children:["Don\u2019t have an account? \xa0",(0,S.jsx)(c.Z,{underline:"none",variant:"subtitle2",component:o.rU,to:"/register",children:"Get started"})]}),(0,S.jsx)(u.Z,{maxWidth:"sm",children:(0,S.jsxs)(W,{children:[(0,S.jsxs)(m.Z,{sx:{mb:5},children:[(0,S.jsx)(h.Z,{variant:"h4",gutterBottom:!0,children:"Sign in Droidcut Admin"}),(0,S.jsx)(h.Z,{sx:{color:"text.secondary"},children:"Enter your credentials below."})]}),(0,S.jsx)(P,{loginUser:function(e,r){return v(e,r)},loginError:b}),(0,S.jsx)(Z.J,{width:"smUp",children:(0,S.jsxs)(h.Z,{variant:"body2",align:"center",sx:{mt:3},children:["Don\u2019t have an account?\xa0",(0,S.jsx)(c.Z,{variant:"subtitle2",component:o.rU,to:"/register",children:"Get started"})]})})]})})]})}}}]);
//# sourceMappingURL=853.e3f2e8bd.chunk.js.map