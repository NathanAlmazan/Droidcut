"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[722],{41758:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(45987),i=t(1413),c=t(47630),a=t(12065),s=t(80184),o=["color","variant","children"],u=(0,c.ZP)("span")((function(e){var n=e.theme,t=e.ownerState,r=t.color,c=t.variant;return(0,i.Z)({height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:n.spacing(0,1),color:n.palette.grey[800],fontSize:n.typography.pxToRem(12),fontFamily:n.typography.fontFamily,backgroundColor:n.palette.grey[300],fontWeight:n.typography.fontWeightBold},"default"!==r?(0,i.Z)((0,i.Z)((0,i.Z)({},"filled"===c&&(0,i.Z)({},function(e){return{color:n.palette[e].contrastText,backgroundColor:n.palette[e].main}}(r))),"outlined"===c&&(0,i.Z)({},function(e){return{color:n.palette[e].main,backgroundColor:"transparent",border:"1px solid ".concat(n.palette[e].main)}}(r))),"ghost"===c&&(0,i.Z)({},function(e){return{color:n.palette[e].dark,backgroundColor:(0,a.Fq)(n.palette[e].main,.16)}}(r))):(0,i.Z)((0,i.Z)({},"outlined"===c&&{backgroundColor:"transparent",color:n.palette.text.primary,border:"1px solid ".concat(n.palette.grey[50032])}),"ghost"===c&&{color:n.palette.text.secondary,backgroundColor:n.palette.grey[50016]}))}));function l(e){var n=e.color,t=void 0===n?"default":n,c=e.variant,a=void 0===c?"ghost":c,l=e.children,d=(0,r.Z)(e,o);return(0,s.jsx)(u,(0,i.Z)((0,i.Z)({ownerState:{color:t,variant:a}},d),{},{children:l}))}},25212:function(e,n,t){var r=t(1413),i=t(45987),c=t(52007),a=t.n(c),s=t(6907),o=t(72791),u=t(64554),l=t(80184),d=["children","title"],h=(0,o.forwardRef)((function(e,n){var t=e.children,c=e.title,a=void 0===c?"":c,o=(0,i.Z)(e,d);return(0,l.jsxs)(u.Z,(0,r.Z)((0,r.Z)({ref:n},o),{},{children:[(0,l.jsx)(s.q,{children:(0,l.jsx)("title",{children:a})}),t]}))}));h.propTypes={children:a().node.isRequired,title:a().string},n.Z=h},65216:function(e,n,t){var r=t(1413),i=t(72791),c=t(34575),a=t(19658),s=t(80184),o=i.forwardRef((function(e,n){return(0,s.jsx)(a.Z,(0,r.Z)({elevation:6,ref:n,variant:"filled"},e))}));n.Z=function(e){var n=e.openSnackbar,t=e.success,r=e.message,i=e.setOpenSnackbar,a=function(e,n){"clickaway"!==n&&i(!1)};return(0,s.jsx)(c.Z,{open:n,autoHideDuration:6e3,onClose:a,children:(0,s.jsx)(o,{onClose:a,severity:t?"success":"error",sx:{width:"100%"},children:r})})}},25722:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var r=t(1413),i=t(70885),c=t(72791),a=t(26445),s=t(61889),o=t(20890),u=t(53767),l=t(19218),d=t(13400),h=t(67786),f=t(14379),m=t(33915),Z=t(25212),p=t(57621),g=t(39504),S=t(72363),x=t(56125),v=t(24518),b=t(41758),j=t(80184);function y(e){var n=e.data,t=e.editSchedule,a=e.deleteSchedule,s=c.useState(!1),u=(0,i.Z)(s,2),d=u[0],Z=u[1],y=c.useState(new Date(n.schedule_datetime)),k=(0,i.Z)(y,2),w=k[0],C=k[1],_={weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0},L={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};return(0,j.jsx)(p.Z,{sx:{maxWidth:345},children:(0,j.jsxs)(m.Z,{dateAdapter:f.Z,children:[(0,j.jsxs)(g.Z,{children:[(0,j.jsx)(o.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:w.toLocaleString("en-US",_).split(",")[0]}),(0,j.jsx)(o.Z,{variant:"h4",component:"div",children:w.toLocaleString("en-US",_).split(",")[1]+", "+w.toLocaleString("en-US",_).split(",")[2]}),(0,j.jsx)(o.Z,{sx:{mb:1.5},color:"text.secondary",children:w.toLocaleString("en-US",_).split(",")[3]}),(0,j.jsx)(b.Z,{variant:"ghost",color:"success",children:"Available"})]}),(0,j.jsxs)(S.Z,{children:[(0,j.jsx)(v.Z,{size:"small",onClick:function(){Z(!d)},children:d?"Cancel":"Edit"}),(0,j.jsx)(v.Z,{size:"small",color:"error",onClick:function(e){return a(n.uid)},children:"Delete"})]}),(0,j.jsx)(x.Z,{in:d,timeout:"auto",unmountOnExit:!0,children:(0,j.jsx)(g.Z,{children:(0,j.jsx)(h.Z,{label:"Date&Time picker",value:w,onChange:function(e){C(e)},onAccept:function(e){t(n.uid,w.toLocaleString("en-US",L)),Z(!d)},renderInput:function(e){return(0,j.jsx)(l.Z,(0,r.Z)({},e))}})})})]})})}var k=t(65216),w=t(42419),C=t(14963),_=t(80408),L=t(15671),U=t(43144),D=function(){function e(n,t,r){if((0,L.Z)(this,e),null!==r){var i=new Date(r).toLocaleString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0});this.schedule={barber:t,haircut:"n/a",is_available:!0,schedule_datetime:i,scheduled_by:"n/a",time_stamp:"".concat((new Date).getTime()),unique_id:n}}else this.schedule=r}return(0,U.Z)(e,[{key:"convertObjectToArray",value:function(e){var n=[];Object.keys(e).forEach((function(t){var r=e[t];r.uid=t,n.push(r)})),this.scheduleList=n}},{key:"getSchedule",value:function(){return this.schedule}},{key:"getScheduleList",value:function(){return this.scheduleList}},{key:"getUserScheduleList",value:function(e){return this.scheduleList.filter((function(n){return n.barber===e}))}}]),e}();var A=function(){var e=(0,C.$)(),n=e.database,t=e.username,p=(0,c.useState)(new Date),g=(0,i.Z)(p,2),S=g[0],x=g[1],v=(0,c.useState)([]),b=(0,i.Z)(v,2),L=b[0],U=b[1],A=(0,c.useState)({openSnackbar:!1,success:!0,message:""}),T=(0,i.Z)(A,2),F=T[0],H=T[1];return(0,c.useEffect)((function(){(0,_.jM)((0,_.iH)(n,"VerifiedUsers/AvailableSchedule"),(function(e){var n=e.val(),r=new D(null,null,null);r.convertObjectToArray(n),U((function(e){return r.getUserScheduleList(t).sort((function(e,n){return new Date(e.schedule_datetime).getTime()-new Date(n.schedule_datetime).getTime()}))}))}))}),[n,t,F]),(0,j.jsxs)(Z.Z,{title:"Droidcut | Schedule",children:[(0,j.jsx)(m.Z,{dateAdapter:f.Z,children:(0,j.jsxs)(a.Z,{children:[(0,j.jsxs)(s.ZP,{container:!0,spacing:3,justifyContent:"space-between",children:[(0,j.jsx)(s.ZP,{item:!0,sm:12,md:5,children:(0,j.jsx)(o.Z,{variant:"h4",children:"Schedules"})}),(0,j.jsx)(s.ZP,{item:!0,sm:12,md:5,children:(0,j.jsxs)(u.Z,{direction:"row",justifyContent:"end",sx:{minWidth:200},spacing:1,children:[(0,j.jsx)(h.Z,{label:"Date&Time picker",value:S,onChange:function(e){x(e)},renderInput:function(e){return(0,j.jsx)(l.Z,(0,r.Z)({},e))}}),(0,j.jsx)(d.Z,{onClick:function(e){return function(){var e=Math.random().toString(36).substring(2,12)+Math.random().toString(36).substring(2,12),i=new D(e,t,S);(0,_.t8)((0,_.iH)(n,"VerifiedUsers/AvailableSchedule/"+e),i.getSchedule()).then((function(e){H((0,r.Z)((0,r.Z)({},F),{},{openSnackbar:!0,success:!0,message:"Schedule was added successfully."}))})).catch((function(e){H((0,r.Z)((0,r.Z)({},F),{},{openSnackbar:!0,success:!1,message:"Failed to add schedule."}))}))}()},children:(0,j.jsx)(w.Z,{})})]})})]}),(0,j.jsx)(s.ZP,{container:!0,spacing:3,sx:{mt:3},children:L.map((function(e,t){return(0,j.jsx)(s.ZP,{item:!0,xs:12,md:4,children:(0,j.jsx)(y,{data:e,editSchedule:function(e,t){return function(e,t){var i=L.find((function(n){return n.uid===e}));null!==i?(i.schedule_datetime=t,(0,_.t8)((0,_.iH)(n,"VerifiedUsers/AvailableSchedule/"+e),i).then((function(e){H((0,r.Z)((0,r.Z)({},F),{},{openSnackbar:!0,success:!0,message:"Schedule was updated successfully."}))})).catch((function(e){H((0,r.Z)((0,r.Z)({},F),{},{openSnackbar:!0,success:!1,message:"Failed to update schedule."}))}))):H((0,r.Z)((0,r.Z)({},F),{},{openSnackbar:!0,success:!1,message:"Schedule does not exist."}))}(e,t)},deleteSchedule:function(e){return function(e){(0,_.t8)((0,_.iH)(n,"VerifiedUsers/AvailableSchedule/"+e),null).then((function(e){H((0,r.Z)((0,r.Z)({},F),{},{openSnackbar:!0,success:!1,message:"Schedule was deleted successfully."}))})).catch((function(e){H((0,r.Z)((0,r.Z)({},F),{},{openSnackbar:!0,success:!1,message:"Failed to delete schedule."}))}))}(e)}})},e.uid)}))})]})}),(0,j.jsx)(k.Z,{openSnackbar:F.openSnackbar,success:F.success,message:F.message,setOpenSnackbar:function(e){return H((0,r.Z)((0,r.Z)({},F),{},{openSnackbar:e}))}})]})}}}]);
//# sourceMappingURL=722.c1f868f8.chunk.js.map