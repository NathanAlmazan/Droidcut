"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[65],{76065:function(e,r,i){i.r(r),i.d(r,{default:function(){return W}});var a=i(70885),n=i(4942),t=i(72791),s=i(14963),l=i(43504),o=i(16871),d=i(47630),u=i(23060),c=i(26445),m=i(64554),h=i(20890),x=i(23468),p=i(25212),f=i(27325),Z=i(1413),g=i(81724),j=i(67234),y=i(92506),v=i(63278),b=i(74994),w=i(53767),N=i(19218),_=i(63466),S=i(13400),T=i(39709),k=i(80184);function P(e){var r=e.signupUser,i=e.error,n=(0,t.useState)(!1),s=(0,a.Z)(n,2),l=s[0],o=s[1],d=g.Ry().shape({firstName:g.Z_().min(2,"Too Short!").max(50,"Too Long!").required("First name required"),lastName:g.Z_().min(2,"Too Short!").max(50,"Too Long!").required("Last name required"),email:g.Z_().email("Email must be a valid email address").required("Email is required"),password:g.Z_().required("Password is required")}),u=(0,y.TA)({initialValues:{firstName:"",lastName:"",email:"",password:""},validationSchema:d,onSubmit:function(e){var i=e.firstName+" "+e.lastName;r(i,e.email,e.password)}}),c=u.errors,m=u.touched,x=u.handleSubmit,p=u.isSubmitting,f=u.getFieldProps;return(0,k.jsx)(y.Hy,{value:u,children:(0,k.jsx)(y.l0,{autoComplete:"off",noValidate:!0,onSubmit:x,children:(0,k.jsxs)(w.Z,{spacing:3,children:[(0,k.jsxs)(w.Z,{direction:{xs:"column",sm:"row"},spacing:2,children:[(0,k.jsx)(N.Z,(0,Z.Z)((0,Z.Z)({fullWidth:!0,label:"First name"},f("firstName")),{},{error:Boolean(m.firstName&&c.firstName),helperText:m.firstName&&c.firstName})),(0,k.jsx)(N.Z,(0,Z.Z)((0,Z.Z)({fullWidth:!0,label:"Last name"},f("lastName")),{},{error:Boolean(m.lastName&&c.lastName),helperText:m.lastName&&c.lastName}))]}),(0,k.jsx)(N.Z,(0,Z.Z)((0,Z.Z)({fullWidth:!0,autoComplete:"username",type:"email",label:"Email address"},f("email")),{},{error:Boolean(m.email&&c.email),helperText:m.email&&c.email})),(0,k.jsx)(N.Z,(0,Z.Z)((0,Z.Z)({fullWidth:!0,autoComplete:"current-password",type:l?"text":"password",label:"Password"},f("password")),{},{InputProps:{endAdornment:(0,k.jsx)(_.Z,{position:"end",children:(0,k.jsx)(S.Z,{edge:"end",onClick:function(){return o((function(e){return!e}))},children:(0,k.jsx)(j.JO,{icon:l?v.Z:b.Z})})})},error:Boolean(m.password&&c.password),helperText:m.password&&c.password})),null!==i&&(0,k.jsx)(h.Z,{color:"error",variant:"body2",children:i}),(0,k.jsx)(T.Z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:p&&!i,children:"Register"})]})})})}var U=i(80408),q=(0,d.ZP)(p.Z)((function(e){var r=e.theme;return(0,n.Z)({},r.breakpoints.up("md"),{display:"flex"})})),C=(0,d.ZP)("div")((function(e){return{maxWidth:480,margin:"auto",display:"flex",minHeight:"100vh",flexDirection:"column",justifyContent:"center",padding:e.theme.spacing(12,0)}}));function W(){var e=(0,o.s0)(),r=(0,s.$)(),i=r.signupUser,n=r.database,d=r.currentUser,p=r.setCurrentUsername,Z=t.useState(null),g=(0,a.Z)(Z,2),j=g[0],y=g[1];function v(r,a,t){i(a,t).then((function(i){y(null),function(r,i,a){(0,U.t8)((0,U.iH)(n,"VerifiedAdmin/Admins/"+r),{username:i,password:a}).then((function(r){y(null),p(i),e("/login")})).catch((function(e){y("Failed to save account.")}))}(i.user.uid,r,t)})).catch((function(e){t.length<8?y("Weak password. Please try again."):y("User already exists.")}))}return t.useEffect((function(){null!==d&&e("/dashboard/app")}),[d,e]),(0,k.jsxs)(q,{title:"Register | Droidcut",children:[(0,k.jsxs)(x.Z,{children:["Already have an account? \xa0",(0,k.jsx)(u.Z,{underline:"none",variant:"subtitle2",component:l.rU,to:"/login",children:"Login"})]}),(0,k.jsx)(c.Z,{children:(0,k.jsxs)(C,{children:[(0,k.jsxs)(m.Z,{sx:{mb:5},children:[(0,k.jsx)(h.Z,{variant:"h4",gutterBottom:!0,children:"Welcome to Droidcut!"}),(0,k.jsx)(h.Z,{sx:{color:"text.secondary"},children:"Signup as a new Barber of Droidcut."})]}),(0,k.jsx)(P,{signupUser:function(e,r,i){return v(e,r,i)},error:j}),(0,k.jsxs)(h.Z,{variant:"body2",align:"center",sx:{color:"text.secondary",mt:3},children:["By registering, I agree to Minimal\xa0",(0,k.jsx)(u.Z,{underline:"always",sx:{color:"text.primary"},children:"Terms of Service"}),"\xa0and\xa0",(0,k.jsx)(u.Z,{underline:"always",sx:{color:"text.primary"},children:"Privacy Policy"}),"."]}),(0,k.jsx)(f.J,{width:"smUp",children:(0,k.jsxs)(h.Z,{variant:"subtitle2",sx:{mt:3,textAlign:"center"},children:["Already have an account?\xa0",(0,k.jsx)(u.Z,{to:"/login",component:l.rU,children:"Login"})]})})]})})]})}}}]);
//# sourceMappingURL=65.21e00b44.chunk.js.map