"use strict";(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[743],{25212:function(e,n,t){var i=t(1413),r=t(45987),a=t(52007),s=t.n(a),c=t(6907),o=t(72791),u=t(64554),l=t(80184),d=["children","title"],h=(0,o.forwardRef)((function(e,n){var t=e.children,a=e.title,s=void 0===a?"":a,o=(0,r.Z)(e,d);return(0,l.jsxs)(u.Z,(0,i.Z)((0,i.Z)({ref:n},o),{},{children:[(0,l.jsx)(c.q,{children:(0,l.jsx)("title",{children:s})}),t]}))}));h.propTypes={children:s().node.isRequired,title:s().string},n.Z=h},62944:function(e,n,t){t(72791);var i=t(61889),r=t(19218),a=t(24518),s=t(64554),c=t(20890),o=t(80184);n.Z=function(e){var n=e.haircutInfo,t=e.onTextChange,u=e.onSubmitForm,l=e.error,d=n.name,h=n.description;return(0,o.jsx)("form",{onSubmit:function(e){return u(e)},style:{padding:20},children:(0,o.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,o.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,o.jsx)(r.Z,{fullWidth:!0,required:!0,name:"name",label:"Haircut Name",variant:"outlined",value:d,onChange:function(e){return t(e)}})}),(0,o.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,o.jsx)(r.Z,{fullWidth:!0,required:!0,multiline:!0,rows:5,name:"description",label:"Haircut Description",variant:"outlined",value:h,onChange:function(e){return t(e)}})}),null!==l&&(0,o.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,o.jsx)(s.Z,{component:"div",sx:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f294a5",color:"white",height:50,width:"100%",filter:"brightness(85%)"},children:(0,o.jsx)(c.Z,{variant:"h5",align:"center",children:"Image is required!"})})}),(0,o.jsx)(i.ZP,{item:!0,sm:12,md:12,sx:{width:"100%"},children:(0,o.jsx)(a.Z,{type:"submit",variant:"contained",fullWidth:!0,children:"Save Haircut"})})]})})}},50032:function(e,n,t){var i=t(70885),r=t(72791),a=t(64554),s=t(24518),c=t(69396),o=t(47630),u=t(80184),l=(0,o.ZP)("img")({top:0,width:"100%",height:"100%",objectFit:"cover",position:"absolute"});n.Z=function(e){var n=e.imageFile,t=e.onImageChange,o=e.defaultImage,d=r.useState(null),h=(0,i.Z)(d,2),m=h[0],p=h[1];return r.useEffect((function(){if(null!==n){var e=new FileReader;e.readAsDataURL(n),e.onloadend=function(n){p([e.result])}}}),[n]),(0,u.jsxs)(a.Z,{sx:{pt:"100%",position:"relative"},children:[(0,u.jsx)(l,{alt:"product image",src:m||o}),(0,u.jsxs)(s.Z,{variant:"contained",component:"label",startIcon:(0,u.jsx)(c.Z,{}),sx:{zIndex:9,bottom:16,right:16,position:"absolute",textTransform:"uppercase"},children:["Upload Image",(0,u.jsx)("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:function(e){return t(e)},hidden:!0})]})]})}},36672:function(e,n,t){var i=t(15671),r=t(43144),a=function(){function e(n,t){(0,i.Z)(this,e),this.name=n,this.description=t}return(0,r.Z)(e,[{key:"setImage",value:function(e){this.image=e}},{key:"getHaircut",value:function(){return{name:this.name,image:this.image,description:this.description}}},{key:"databaseObjectToArray",value:function(e){var n=[];return Object.keys(e).forEach((function(t){var i=e[t];i.uid=t,n.push(i)})),n}}]),e}();n.Z=a},24743:function(e,n,t){t.r(n);var i=t(15861),r=t(4942),a=t(1413),s=t(70885),c=t(87757),o=t.n(c),u=t(72791),l=t(57621),d=t(61889),h=t(26445),m=t(53767),p=t(64554),f=t(20890),x=t(24518),g=t(13400),Z=t(95193),v=t(16871),j=t(27247),b=t(74569),w=t.n(b),y=t(14963),k=t(80408),C=t(36672),I=t(29823),H=t(25212),_=t(50032),P=t(62944),S=t(80184);n.default=function(){var e=(0,v.UO)().uid,n=(0,u.useState)({name:"",description:"",image:""}),t=(0,s.Z)(n,2),c=t[0],b=t[1],D=(0,u.useState)(null),F=(0,s.Z)(D,2),z=F[0],T=F[1],q=(0,u.useState)("https://res.cloudinary.com/nathanalz/image/upload/v1642060063/DroidCut/haircut_urvpvs.png"),E=(0,s.Z)(q,2),R=E[0],M=E[1],O=(0,u.useState)(null),U=(0,s.Z)(O,2),W=U[0],A=U[1],V=(0,y.$)().database,B=(0,v.s0)();function L(){return N.apply(this,arguments)}function N(){return(N=(0,i.Z)(o().mark((function e(){var n,t,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",z),n.append("upload_preset","yys2sx1c"),n.append("cloud_name","nathanalz"),e.next=6,w().post("https://api.cloudinary.com/v1_1/nathanalz/image/upload",n);case 6:return t=e.sent,i=t.data.url,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=(0,i.Z)(o().mark((function n(t){var i,r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),i=new C.Z(c.name,c.description),z){n.next=6;break}i.setImage(R),n.next=10;break;case 6:return n.next=8,L();case 8:r=n.sent,i.setImage(r);case 10:(0,k.t8)((0,k.iH)(V,"Haircuts/"+e),i.getHaircut()).then((function(e){B("/dashboard/app")})).catch((function(e){console.log(e.message)}));case 11:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function G(){(0,k.t8)((0,k.iH)(V,"Haircuts/"+e),null).then((function(e){B("/dashboard/app")})).catch((function(e){console.log(e.message)}))}(0,u.useEffect)((function(){var n=(0,k.iH)(V,"Haircuts/"+e);(0,k.jM)(n,(function(e){if(e.exists()){var n=e.val(),t=new C.Z(n.name,n.description);t.setImage(n.image),b((function(e){return t.getHaircut()})),M((function(e){return n.image}))}else B("/404")}))}),[V,e,B]);var J=(0,Z.Z)("(min-width:600px)");return(0,S.jsx)(H.Z,{title:"Haircut | Edit",children:(0,S.jsxs)(h.Z,{sx:{mb:5},children:[(0,S.jsxs)(p.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:5,marginBottom:3},children:[(0,S.jsx)(f.Z,{variant:"h4",color:"primary",children:"Create Haircut"}),(0,S.jsxs)(m.Z,{direction:"row",spacing:2,children:[J?(0,S.jsx)(x.Z,{variant:"contained",color:"error",startIcon:(0,S.jsx)(I.Z,{}),onClick:function(e){return B("/dashboard/app")},children:"Cancel"}):(0,S.jsx)(g.Z,{onClick:function(e){return B("/dashboard/app")},color:"error",children:(0,S.jsx)(I.Z,{})}),J?(0,S.jsx)(x.Z,{variant:"contained",color:"error",startIcon:(0,S.jsx)(j.Z,{}),onClick:function(e){return G()},children:"Delete"}):(0,S.jsx)(g.Z,{onClick:function(e){return G()},color:"error",children:(0,S.jsx)(j.Z,{})})]})]}),(0,S.jsx)(l.Z,{sx:{width:"100%"},children:(0,S.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,S.jsx)(d.ZP,{item:!0,xs:12,md:5,children:(0,S.jsx)(_.Z,{imageFile:z,onImageChange:function(e){return function(e){A(null),T(e.target.files[0])}(e)},defaultImage:R})}),(0,S.jsx)(d.ZP,{item:!0,xs:12,md:7,children:(0,S.jsx)(P.Z,{haircutInfo:c,onTextChange:function(e){return function(e){b((0,a.Z)((0,a.Z)({},c),{},(0,r.Z)({},e.target.name,e.target.value)))}(e)},onSubmitForm:function(e){return function(e){return $.apply(this,arguments)}(e)},error:W})})]})})]})})}},27247:function(e,n,t){var i=t(95318);n.Z=void 0;var r=i(t(45649)),a=t(80184),s=(0,r.default)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");n.Z=s}}]);
//# sourceMappingURL=743.affd9b56.chunk.js.map